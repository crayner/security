{# templates/security/login.html.twig #}
{# ... you will probably extend your base template, like base.html.twig #}
{% trans_default_domain 'security' %}

{% extends '@HillrangeSecurity/base.html.twig' %}

{% block title %}{{ 'Password Reset'|trans }}{% endblock %}
{% block body %}
    <h1>{{ 'Password Reset'|trans }}</h1>
    {% if error %}
        <div>{{ error.messageKey|trans(error.messageData, 'security') }}</div>
    {% endif %}
    {% if not success %}
    {{ form_start(form) }}
    {{ form_row(form.plainPassword) }}
    <button type="button" id="generatePassword" name="generatePassword"
            class="btn btn-info">{{ 'security.password.generate.label'|trans }}</button>
    {{ form_row(form.save) }}
    {{ form_end(form) }}
    {% else %}
        <button type="button" id="login" name="login" onclick="window.open('{{ path('login') }}','_self')"
                class="btn btn-info">{{ 'security.login.login.label'|trans }}</button>
    {% endif %}
{% endblock %}

{% block javascripts %}
{{ parent() }}
<script type="text/javascript">
    window.onload = function() {
        document.getElementById("generatePassword").onclick = function fun() {
            document.getElementById('new_password_plainPassword_first').value = '{{ manager.generatePassword()|raw }}';
            document.getElementById('new_password_plainPassword_first').type = "text";
            document.getElementById('new_password_plainPassword_second').value = '{{ manager.generatePassword()|raw }}';
            alert("{{ 'security.password.copy.label'|trans }}" + "\n\n" + "{{ manager.generatePassword()|raw }}");
        }
        document.getElementById('new_password_plainPassword_first').onblur = function fun() {
            document.getElementById('new_password_plainPassword_first').type = "password";
        }
    }
</script>

{% endblock %}



